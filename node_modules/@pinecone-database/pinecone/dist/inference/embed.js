"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.embed = void 0;
const inference_1 = require("../pinecone-generated-ts-fetch/inference");
const embed = (infApi) => {
    return async (options) => {
        const typedAndFormattedInputs = options.inputs.map((str) => {
            return { text: str };
        });
        const params = options.parameters ? { ...options.parameters } : undefined;
        if (params && params.inputType) {
            // Rename `inputType` to `input_type`
            params.input_type = params.inputType;
            delete params.inputType;
        }
        return await infApi.embed({
            embedRequest: {
                model: options.model,
                inputs: typedAndFormattedInputs,
                parameters: params,
            },
            xPineconeApiVersion: inference_1.X_PINECONE_API_VERSION,
        });
    };
};
exports.embed = embed;
//# sourceMappingURL=embed.js.map