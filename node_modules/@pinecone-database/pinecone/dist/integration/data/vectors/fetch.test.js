"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const test_helpers_1 = require("../../test-helpers");
const test_context_1 = require("../../test-context");
let pinecone, serverlessIndex, recordIds;
beforeAll(async () => {
    const fixtures = await (0, test_context_1.getTestContext)();
    pinecone = fixtures.client;
    serverlessIndex = pinecone.index({
        name: fixtures.serverlessIndex.name,
        namespace: test_helpers_1.globalNamespaceOne,
    });
    recordIds = await (0, test_helpers_1.getRecordIds)(serverlessIndex);
});
describe('fetch; serverless index, global namespace one', () => {
    test('fetch by id', async () => {
        if (recordIds) {
            const results = await serverlessIndex.fetch({
                ids: recordIds.slice(0, 3),
            });
            expect(results.records[recordIds[0]].id).toBeDefined();
            expect(results.records[recordIds[1]].id).toBeDefined();
            expect(results.records[recordIds[2]].id).toBeDefined();
            expect(results.usage?.readUnits).toBeDefined();
        }
    });
});
//# sourceMappingURL=fetch.test.js.map