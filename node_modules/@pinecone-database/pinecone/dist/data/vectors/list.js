"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.listPaginated = void 0;
const db_data_1 = require("../../pinecone-generated-ts-fetch/db_data");
const errors_1 = require("../../errors");
const listPaginated = (apiProvider, targetNamespace) => {
    const validator = (options) => {
        // Don't need to check for empty string prefix or paginationToken, since empty strings evaluate to false
        if (options.limit && options.limit < 0) {
            throw new errors_1.PineconeArgumentError('`limit` property must be greater than 0');
        }
    };
    return async (options) => {
        if (options) {
            validator(options);
        }
        const namespace = options?.namespace ?? targetNamespace;
        const listRequest = {
            xPineconeApiVersion: db_data_1.X_PINECONE_API_VERSION,
            ...options,
            namespace,
        };
        const api = await apiProvider.provide();
        return await api.listVectors(listRequest);
    };
};
exports.listPaginated = listPaginated;
//# sourceMappingURL=list.js.map