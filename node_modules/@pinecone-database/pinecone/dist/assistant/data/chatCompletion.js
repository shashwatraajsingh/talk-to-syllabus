"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.chatCompletion = void 0;
const assistant_data_1 = require("../../pinecone-generated-ts-fetch/assistant_data");
const chat_1 = require("./chat");
const chatCompletion = (assistantName, apiProvider) => {
    return async (options) => {
        (0, chat_1.validateChatOptions)(options);
        const api = await apiProvider.provideData();
        const messages = (0, chat_1.messagesValidation)(options);
        const model = (0, chat_1.modelValidation)(options);
        return await api.chatCompletionAssistant({
            xPineconeApiVersion: assistant_data_1.X_PINECONE_API_VERSION,
            assistantName: assistantName,
            searchCompletions: {
                messages: messages,
                stream: false,
                model: model,
                filter: options.filter,
            },
        });
    };
};
exports.chatCompletion = chatCompletion;
//# sourceMappingURL=chatCompletion.js.map